<!DOCTYPE html>
<html lang="zh-cmns-Hans">
<head>
	<meta charset="UTF-8">
	<title>Validator DEMO</title>
	<link rel="stylesheet" href="bootstrap.min.css">
	<link rel="stylesheet" href="flat-ui.css">
	<style>
		form {
			border-radius: 4px;
			width: 600px;
			padding: 30px;
			margin: 100px auto;
			border: 1px solid #d4d4d4;
		}
	</style>
</head>
<body>
	<form class="form-horizontal">
		<div class="form-group">
			<label class="col-sm-3 control-label">用户名：</label>
			<div class="col-sm-5">
				<input type="text" data-validator="name" data-rules="notEmpty, maxLength=10" class="form-control" placeholder="请输入用户名" />
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">邮箱：</label>
			<div class="col-sm-5">
				<input type="text" data-validator="email" data-rules="notEmpty, email" class="form-control" placeholder="请输入邮箱地址" />
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">密码：</label>
			<div class="col-sm-6">
				<input type="password" data-validator="password" data-rules="notEmpty, minLength=6" class="form-control" placeholder="请输入密码" />
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">再次输入：</label>
			<div class="col-sm-6">
				<input type="password" data-validator="passwordRepeat" data-rules="notEmpty" class="form-control" placeholder="请输入密码" />
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">英雄：</label>
			<div class="col-sm-9">
			  	<label class="checkbox checkbox-inline" style="margin-top:10px;">
			    	<input type="checkbox" data-validator="hero" data-rules="atLeast=1,atMost=2" value="sf" name="hero">
			    	影魔
			  	</label>
			  	<label class="checkbox checkbox-inline">
			    	<input type="checkbox" data-validator="hero" value="lion" name="hero">
			    	恶魔巫师
			  	</label>
			  	<label class="checkbox checkbox-inline">
			    	<input type="checkbox" data-validator="hero" value="lich" name="hero">
			    	巫妖
			  	</label>
			</div>
		</div>
		<div class="form-group" style="margin-bottom:80px;">
			<label class="col-sm-3 control-label">阵营：</label>
			<div class="col-sm-3">
				<select class="form-control select-primary select-block mbl" data-validator="camp" data-rules="notEmpty">
				  	<optgroup label="请选择阵营">
				    	<option value="1" selected>近卫</option>
				    	<option value="2">天灾</option>
				  	</optgroup>
				</select>
			</div>
		</div>

		<div id="func-alert-success" class="alert alert-success col-sm-offset-3" style="margin-bottom:15px;display:none;">成功</div>
		<div id="func-alert-error" class="alert alert-danger col-sm-offset-3" style="margin-bottom:15px;display:none;">失败</div>

		<button class="btn btn-success btn-wide col-sm-offset-3">开始战斗</button>
		<button class="btn btn-default" style="margin-left:15px;" type="button">取消</button>
	</form>

	<script src="test/jquery.js"></script>
	<script src="validator.js"></script>
	<script src="flat-ui.js"></script>

	<script>
		$(':checkbox').radiocheck();
		$(':radio').radiocheck();
		// $("select").select2();

		$('form').on('submit', function (e) {
			e.preventDefault()

			var config = {
				msg: {
					name: {
						notEmpty: '用户名不能为空',
						maxLength: '用户名长度不能超过10个字符'
					},
					email: {
						notEmpty: '邮箱不能为空',
						email: '请输入合法的邮箱地址'
					},
					password: {
						notEmpty: '密码不能为空',
						minLength: '密码不能少于6个字符'
					},
					passwordRepeat: {
						notEmpty: '请再次输入密码'
					},
					hero: {
						atLeast: '英雄至少为一个',
						atMost: '英雄至多为两个'
					},
					camp: {
						notEmpty: '请选择阵营'
					}
				},
				onParent: true,
				errorClass: 'has-error'
			}

			$(this).validate(config, function (result, data) {
				if (!result.pass) {
					return $('#func-alert-error').fadeIn().text(result.msg)
				}

				$('#func-alert-error').fadeOut().text()
				$('#func-alert-success').fadeIn().text('全军出击！')
			})
		})
	</script>
</body>
</html>
